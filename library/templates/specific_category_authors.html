{% extends "global_layout.html" %}

{% block content %}
<div class="container">
    {% include "flash_messages.html" %}
    <div class="row" id="row">
        <div class="col-md-12">
            <div class="card" id="card-container">
                <div class="card-body" id="card">
                    <form method="POST" action="/categories/authors">
                        <div class="form-group">
                            <label for="category">Search by Category:</label>
                            <select class="form-control" id="category" name="category">
                                <option value="">Select Category</option>
                                <option value="Fiction">Fiction</option>
                                <option value="Non-fiction">Non-fiction</option>
                                <option value="Romance">Romance</option>
                                <option value="Mystery">Mystery</option>
                                <option value="Thriller">Thriller</option>
                                <option value="Horror">Horror</option>
                                <option value="Science Fiction">Science Fiction</option>
                                <option value="Fantasy">Fantasy</option>
                                <option value="Historical Fiction">Historical Fiction</option>
                                <option value="Biography">Biography</option>
                                <option value="Autobiography">Autobiography</option>
                                <option value="Dystopian">Dystopian</option>
                                <option value="Satire">Satire</option>
                                <option value="Memoir">Memoir</option>
                                <option value="History">History</option>
                                <option value="Art">Art</option>
                                <option value="Photography">Photography</option>
                                <option value="Travel">Travel</option>
                                <option value="Religion">Religion</option>
                                <option value="Philosophy">Philosophy</option>
                                <option value="Psychology">Psychology</option>
                                <option value="Sociology">Sociology</option>
                                <option value="Politics">Politics</option>
                                <option value="Science">Science</option>
                                <option value="Technology">Technology</option>
                                <option value="Business">Business</option>
                                <option value="Self-help">Self-help</option>
                                <option value="Cookbook">Cookbook</option>
                                <option value="Children book">Children book</option>
                                <option value="Magical Realism">Magical Realism</option>
                                <option value="Young Adult">Young Adult</option>
                                <option value="Comics and Graphic Novel">Comics and Graphic Novel</option>
                                <option value="Poetry">Poetry</option>
                                <option value="Drama">Drama</option>
                                <option value="Educational">Educational</option>
                                <option value="Reference">Reference</option>
                                <option value="Dictionary">Dictionary</option>
                                <option value="Encyclopedia">Encyclopedia</option>
                                <option value="Almanac">Almanac</option>
                                <option value="Atlas">Atlas</option>
                                <option value="Thesaurus">Thesaurus</option>
                                <option value="Language Learning">Language Learning</option>
                                <option value="Test preparation">Test preparation</option>
                                <option value="Music">Music</option>
                                <option value="Coming of Age">Coming of Age</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Search</button>
                    </form>
                    
                    {% if authors|length == 0 %}
                        <!-- |length is a Jinja2 filter that returns the number of items in a sequence -->
                        <h1 style="margin-top: 5rem;">Select Book Category</h1>
                    {% else %}
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Book Category</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for author in authors %}
                                        <tr>
                                            <td>{{ author.author_first_name }}</td>
                                            <td>{{ author.author_last_name }}</td>
                                            <td>{{ author.category }}</td>
                                            <td></td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
